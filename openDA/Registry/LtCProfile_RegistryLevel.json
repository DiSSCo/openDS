{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "https://raw.githubusercontent.com/jbstatgen/dissco_registry/main/LtCProfile_RegistryLevel_20230207.json?token=GHSAT0AAAAAAB6WZYLAAT7QUDYLKKKY74RAY7KJGDA",
	"title": "DiSSCo Registry Profile",
	"description": "JSON Schema- and Latimer Core-based profile describing a registry of collection facilities for the DiSSCo RI in a standardized way.",
	"type": "object",
	"properties": {
		"$ref": "#/$defs/Registry"
	},
	"$defs": {
		"Registry": {
			"description": "A registry assembling the authorative list of DiSSCo collection facility records."
			"type": "object",
			"additionalProperties": true,
			"required": [
				"hasRegistryRecord",
				"ltc:hasRecordLevel",
				"ltc:hasReference"
			],
			"properties": [{
					"name": "hasRegistryRecord",
					"description": "This property refers to one or more related instances of DiSSCo collection facility records.",
					"type": "array",
					"items": {
						"description": "Each item in the array is the record of a DiSSCo collection facility. These records share in common the  DiSSCo record-level schema defined in the linked file.",
						"type": "object",
						"$ref": "https://raw.githubusercontent.com/jbstatgen/dissco_registry/main/LtCProfile_RecordLevel_20230207.json?token=GHSAT0AAAAAAB6WZYLAJZOUSQPX6K4MEDT4Y7KO26Q",
						"properties": { }
						"title": "A single schema shared by all registry records"
					},
					"minItems": 0,
					"uniqueItems": true,
					"title": "The list of DiSSCo collection facility records stored within the registry"
				},{
					"name": "ltc:hasRecordLevel",
					"description": "This property refers to one or more related instances of the RecordLevel class."
					"type": "array",
					"items": {
						"description": "This property refers to an instance of the RecordLevel class at the registry-level",
						"type": "object",
						"$ref": "#/$defs/RecordLevelRegistry"
					},
					"minItems": 1,
					"maxItems": 1,
					"uniqueItems": true,
					"title": "(P)ID, license, rights holder & registry admin(s)"
				},{
					"name": "ltc:hasReference",
					"description": "This property refers to one or more related instances of the Reference class."
					"type": "array",
					"items": {
						"description": "This property refers to an instance of the RecordLevel class at the registry-level",
						"type": "object",
						"$ref": "#/$defs/ReferenceRegistry"
					},
					"minItems": 1,
					"uniqueItems": true,
					"title": "eg registry citation, homepage, logo, IRI"
			}],
			"title": "Overall structure at the registry-level"
		},
		"RecordLevelRegistry": {
			"$ref": "https://raw.githubusercontent.com/tdwg/cd/registry-schema-update/standard/json-schema/record-level.json",
			"description": "The machine-actionable information profile for the collection description digital object. Linked to the RDA PID Kernel recommendation (https://www.rd-alliance.org/system/files/RDA%20Recommendation%20on%20PID%20Kernel%20Information_final.pdf)",
			"type": "object",
			"additionalProperties": true,
			"required": [
				"ltc:hasIdentifier",
				"ltc:license",
				"ltc:rightsHolder",
				"ltc:hasPersonRole"
			],
			"properties": [{
					"name": "ltc:hasIdentifier",
					"description": "This property refers to one or more related instances of the Identifier class.",
					"type": "array",
					"items": {
						"description": "This property refers to an instance of the Identifier class.",
						"type": "object",
						"$ref": "#/$defs/ltc:Identifier"
					},
					"minItems": 1,
					"uniqueItem": true
				},{
					"name": "ltc:license",
					"description": "A legal document giving official permission to do something with the resource. Allowed entries are predefined in array.",
					"type": "string",
					"default": "https://creativecommons.org/publicdomain/zero/1.0/",
					"enum": [
						"https://creativecommons.org/publicdomain/zero/1.0/",
						"https://creativecommons.org/licenses/by/4.0/",
						"other",
						"knownAndWithheld",
						"unspecified",
						"unknown",
						"notApplicable"
					]
				},{
					"name": "ltc:licenseOther",
					"description": "A legal document giving official permission to do something with the resource. Alternative subschema applicable if ltc:license was set to Other. Accepts IRIs to licenses not predefined in ltc:license. For selection see allOf directly following the properties entity.",
					"type": "string",
					"format": "uri",
					"qt-uri-protocols": [
						"https"
					]
				},{
					"name": "ltc:hasPersonRole",
					"description": "This property refers to one or more related instances of the PersonRole class.",
					"type": "array",
					"items": {
						"description": "This property refers to an instance of the PersonRole class.",
						"type": "object",
						"$ref": "#/$defs/RecordLevelRegistryPersonRole"
					},
					"minItem": 1,
					"uniqueItem": true
			}],
			"allOf": [{
					"properties": { "ltc:license": { "const": "other" } }
				},{
					"required": ["ltc:licenseOther"]
			}],
			"title": "RecordLevelRegistry"
		},
		"ltc:Identifier": {
			"description": "A numeric, textual value, or reference such as an IRI, that can be used to uniquely identify the object to which it is attached. Use this class to document stable identifiers that describe the collections and associated entities being represented in the collection description. For example, person identifiers, taxon identifiers, institution identifiers, organisational unit identifiers, gazetteer identifiers. Identifiers represented by this class may be globally unique, or unique within a given context.",
			"type": "object",
			"additionalProperties": true,
			"required": [
				"ltc:identifierValue",
				"ltc:identifierSource",
				"ltc:identifierType"
			],
			"properties": [{
					"name": "ltc:identifierValue",
					"description": "An unambiguous reference to the resource within a given context.",
					"type": "string",
					"$ref": "#/$defs/LtcIdentifierValue"
				},{
					"name": "ltc:identifierSource",
					"description": "The source or creator of the identifier.",
					"type": "string",
					"$ref": "#/$defs/LtcIdentifierSource"
				},{
					"name": "ltc:identifierType",
					"description": "The type and format of the value in the identifier field.",
					"type": "string",
					"enum": [
						"Internal database identifier",
						"Collection code",
						"IRI"
					]
			}],
			"title": "Identifier"
		},
		"LtcIdentifierValue": {
			"anyOf": [
				{
					"description": "",
					"type": "string",
					"format": "integer"
				},
				{
					"description": "",
					"type": "null"
				},
				{
					"description": "",
					"type": "string",
					"format": "uri",
					"qt-uri-protocols": [
						"https",
						"http"
					],
					"qt-uri-extensions": [
						".2023900",
						".3b"
					]
				}
			],
			"title": "LtcIdentifierValue"
		},
		"LtcIdentifierSource": {
			"type": "string",
					"description": 
			"enum": [
				"Catalogue of Life 2017",
				"GBIF",
				"Index Herbariorum",
				"ISNI",
				"Join the Dots database",
				"NHM Data Portal",
				"ORCID ID",
				"Paleobiology Database",
				"PID",
				"ROR",
				"URI",
				"Wikidata",
				"other",
				"knownAndWithheld",
				"unspecified",
				"unknown",
				"notApplicable"
			],
			"title": "LtcIdentifierSource"
		},
		"RecordLevelRegistryPersonRole": {
			"type": "object",
					"description": "",
			"additionalProperties": true,
			"required": [
				"ltc:role",
				"ltc:hasPerson",
				"ltc:endedAtTime",
				"ltc:startedAtTime"
			],
			"properties": {
				"ltc:role": {
					"description": 
					"$ref": "#/$defs/Role"
				},
				"ltc:startedAtTime": {
					"type": "string",
					"format": "date-time"
					"description": 
				},
				"ltc:endedAtTime": {
					"type": "string",
					"format": "date-time"
					"description": 
				},
				"ltc:hasPerson": {
					"type": "array",
					"description": 
					"items": {
						"description": 
						"$ref": "#/$defs/RecordLevelRegistryPerson"
					},
					"minItem": 1,
					"uniqueItem": true
				}
			},
			"title": "RecordLevelRegistryPersonRole"
		},
		"Role": {
			"type": "string",
					"description": 
			"enum": [
				"recordCreator",
				"recordEditor"
			],
			"title": "Role"
		},
		"RecordLevelRegistryPerson": {
			"type": "object",
					"description": 
			"additionalProperties": true,
			"required": [
				"ltc:hasIdentifier",
				"ltc:fullName"
			],
			"properties": {
					"description": 
				"ltc:fullName": {
					"description": 
					"$ref": "#/$defs/adminFullName"
				},
				"ltc:hasIdentifier": {
					"type": "array",
					"description": 
					"items": {
					"description": 
						"$ref": "#/$defs/Identifier"
					}
					"minItem": 1,
					"uniqueItem": true
				}
			}
			"title": "RecordLevelRegistryPerson"
		},
		"adminFullName": {
			"type": "string",
					"description": 
			"enum": [
				"WouterAddink",
				"PatrickSemal"
			],
			"title": "adminFullName"
		},
		"ReferenceRegistry": {
			"type": "object",
					"description": 
			"additionalProperties": true,
			"required": [
				"ltc:referenceText",
				"ltc:referenceDetails",
				"ltc:referenceType",
				"abcd:referenceURI"
			],
			"properties": {
					"description": 
				"ltc:referenceText": {
					"type": "string"
					"description": 
				},
				"ltc:referenceDetails": {
					"type": "string"
					"description": 
				},
				"ltc:referenceType": {
					"type": "string"
					"description": 
				},
				"abcd:referenceURI": {
					"type": "string",
					"format": "uri",
					"qt-uri-protocols": [
						"https"
					],
					"qt-uri-extensions": [
						".2023900"
					]
					"description": 
				}
			},
			"title": "ReferenceRegistry"
		}	
	}
}


